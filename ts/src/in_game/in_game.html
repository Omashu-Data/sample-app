<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="../../css/general.css" />
  <link rel="stylesheet" href="../../css/header.css" />
  <link rel="stylesheet" href="../../css/ingame.css" />
  <link rel="stylesheet" href="../../css/modal.css" />
  <link rel="stylesheet" href="../../css/omashu-theme.css" />
  <title>omashu.gg - League of Legends</title>
</head>
<body class="in-game" id="app-container">
  <!-- -------------------------------- Header ------------------------------- -->

  <header id="header" class="app-header">
    <div class="logo-container">
      <img src="../../img/header_icon.svg" class="omashu-logo" alt="omashu.gg logo" />
      <h1>omashu.gg</h1>
    </div>
    <h1 class="hotkey-text">
      Mostrar/Ocultar:
      <kbd id="hotkey"></kbd>
    </h1>
    <div class="window-controls-group">
      <button id="minimizeButton" class="window-control window-control-minimize" />
      <button id="maximizeButton" class="window-control window-control-maximize" />
      <button id="closeButton" class="window-control window-control-close" />
    </div>
  </header>

  <!-- Banner de anuncios - Parte superior -->
  <div id="standard-banner" class="ad-container top-banner">
    <!-- Contenedor para anuncios de Overwolf -->
    <div id="overwolf-ads-container" style="width: 728px; height: 90px;"></div>
  </div>

  <!-- Sistema de pestañas -->
  <div class="tabs-container">
    <div class="tabs-navigation">
      <button class="tab-button active" data-tab="stats">Estadísticas</button>
      <button class="tab-button" data-tab="events">Eventos</button>
      <button class="tab-button" data-tab="performance">Rendimiento</button>
      <button class="tab-button" data-tab="improve">Mejora</button>
      <button class="tab-button" data-tab="heatmap">Mapa</button>
      <button class="tab-button" data-tab="clips">Clips</button>
    </div>
  </div>

  <!-- --------------------------------- Main -------------------------------- -->
  <main class="with-ads">
    <div class="content-wrapper">
      <!-- Contenido de pestañas -->
      <div class="tab-content">
        <!-- Pestaña de Estadísticas (activa por defecto) -->
        <div id="stats-tab" class="tab-pane active">
          <div id="metrics-container">
            <div id="player-stats" class="metrics-panel stats-panel">
              <h2>Estadísticas del Jugador</h2>
              <div class="stats-grid">
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">Kills:</span>
                  <span id="kills-value" class="stat-value metric-value">0</span>
                </div>
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">Deaths:</span>
                  <span id="deaths-value" class="stat-value metric-value">0</span>
                </div>
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">Assists:</span>
                  <span id="assists-value" class="stat-value metric-value">0</span>
                </div>
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">CS:</span>
                  <span id="cs-value" class="stat-value metric-value">0</span>
                </div>
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">Nivel:</span>
                  <span id="level-value" class="stat-value metric-value">1</span>
                </div>
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">Oro:</span>
                  <span id="gold-value" class="stat-value metric-value">0</span>
                </div>
              </div>
            </div>
            
            <div id="match-info" class="metrics-panel stats-panel">
              <h2>Información de Partida</h2>
              <div class="match-info-content">
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">Tiempo de Partida:</span>
                  <span id="game-time-value" class="stat-value metric-value">00:00</span>
                </div>
                <div class="stat-item metric-container">
                  <span class="stat-label metric-label">Modo de Juego:</span>
                  <span id="game-mode-value" class="stat-value metric-value">--</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pestaña de Eventos -->
        <div id="events-tab" class="tab-pane">
          <div id="recent-events" class="metrics-panel stats-panel">
            <h2>Eventos Recientes</h2>
            <div id="events-log" class="events-container">
              <!-- Los eventos se añadirán dinámicamente aquí -->
            </div>
          </div>
        </div>
        
        <!-- Pestaña de Rendimiento -->
        <div id="performance-tab" class="tab-pane">
          <div id="performance-metrics" class="metrics-panel stats-panel">
            <h2>Rendimiento</h2>
            <div class="stats-grid">
              <div class="stat-item metric-container">
                <span class="stat-label metric-label">DPS:</span>
                <span id="dps-value" class="stat-value metric-value">0</span>
              </div>
              <div class="stat-item metric-container">
                <span class="stat-label metric-label">KDA:</span>
                <span id="kda-value" class="stat-value metric-value">0</span>
              </div>
              <div class="stat-item metric-container">
                <span class="stat-label metric-label">CS/min:</span>
                <span id="cspm-value" class="stat-value metric-value">0</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pestaña de Mejora -->
        <div id="improve-tab" class="tab-pane">
          <div id="improvement-container" class="metrics-panel stats-panel">
            <h2>Objetivos de Mejora</h2>
            <div class="improvement-content">
              <!-- Sección de fortalezas -->
              <div class="improvement-section">
                <h3 class="section-title strength-title">Tus Fortalezas</h3>
                <div id="strengths-list" class="improvement-list">
                  <!-- Se llenará dinámicamente -->
                  <div class="strength-item">
                    <div class="strength-icon">💪</div>
                    <div class="strength-text">Buen KDA: Mantienes un ratio de 5.0</div>
                  </div>
                </div>
              </div>
              
              <!-- Sección de debilidades -->
              <div class="improvement-section">
                <h3 class="section-title weakness-title">Áreas de Mejora</h3>
                <div id="weaknesses-list" class="improvement-list">
                  <!-- Se llenará dinámicamente -->
                  <div class="weakness-item">
                    <div class="weakness-icon">📈</div>
                    <div class="weakness-text">Farming: Tu CS/min está por debajo del promedio</div>
                  </div>
                </div>
              </div>
              
              <!-- Sección de objetivos -->
              <div class="improvement-section">
                <h3 class="section-title goals-title">Objetivos Actuales</h3>
                <div id="goals-list" class="improvement-list">
                  <!-- Se llenará dinámicamente -->
                  <div class="goal-item">
                    <div class="goal-progress">
                      <div class="progress-bar">
                        <div class="progress-fill" style="width: 35%;"></div>
                      </div>
                      <div class="progress-text">35%</div>
                    </div>
                    <div class="goal-details">
                      <div class="goal-title">Mejorar CS a 7.0 por minuto</div>
                      <div class="goal-description">Actual: 4.5 CS/min | Objetivo: 7.0 CS/min</div>
                      <div class="goal-tips">Tip: Concéntrate en últimos golpes a minions entre rotaciones</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Sección de consejos personalizados -->
              <div class="improvement-section">
                <h3 class="section-title tips-title">Consejos Personalizados</h3>
                <div id="tips-container" class="tips-container">
                  <div class="tip-card">
                    <div class="tip-header">
                      <div class="tip-icon">💡</div>
                      <div class="tip-title">Mejora tu Farm</div>
                    </div>
                    <div class="tip-content">
                      Practica conseguir al menos 70 CS a los 10 minutos. Esto te dará una ventaja económica significativa sobre tu oponente.
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pestaña de Heatmap -->
        <div id="heatmap-tab" class="tab-pane">
          <div id="heatmap-container" class="metrics-panel stats-panel">
            <h2>Mapa de Actividad</h2>
            <div class="heatmap-layout">
              <div class="heatmap-content">
                <div class="map-container">
                  <div class="map-overlay">
                    <!-- Aquí se renderizará el heatmap -->
                    <canvas id="heatmap-canvas" width="400" height="400"></canvas>
                    <!-- Capa para mostrar eventos específicos -->
                    <div id="event-markers"></div>
                  </div>
                  <img id="map-background" src="../../img/summoners-rift.svg" alt="Mapa de Summoner's Rift" />
                  <!-- Tooltip para eventos -->
                  <div id="event-tooltip" class="event-tooltip"></div>
                </div>
              </div>
              <div class="controls-and-stats">
                <div class="map-controls">
                  <div class="map-legend">
                    <h3>Leyenda</h3>
                    <div class="legend-item">
                      <div class="legend-color" style="background-color: rgba(255, 0, 0, 0.7);"></div>
                      <span>Alta actividad</span>
                    </div>
                    <div class="legend-item">
                      <div class="legend-color" style="background-color: rgba(255, 255, 0, 0.7);"></div>
                      <span>Media actividad</span>
                    </div>
                    <div class="legend-item">
                      <div class="legend-color" style="background-color: rgba(0, 255, 0, 0.7);"></div>
                      <span>Baja actividad</span>
                    </div>
                  </div>
                  <div class="event-filters">
                    <h3>Filtros de Eventos</h3>
                    <div class="filter-item">
                      <input type="checkbox" id="filter-kill" checked>
                      <label for="filter-kill">Kills</label>
                    </div>
                    <div class="filter-item">
                      <input type="checkbox" id="filter-death" checked>
                      <label for="filter-death">Muertes</label>
                    </div>
                    <div class="filter-item">
                      <input type="checkbox" id="filter-assist" checked>
                      <label for="filter-assist">Asistencias</label>
                    </div>
                    <div class="filter-item">
                      <input type="checkbox" id="filter-objective" checked>
                      <label for="filter-objective">Objetivos</label>
                    </div>
                  </div>
                </div>
                <div class="time-slider">
                  <h3>Tiempo de Partida</h3>
                  <input type="range" id="time-slider" min="0" max="100" value="100">
                  <div class="slider-labels">
                    <span>Inicio</span>
                    <span id="time-display">Todo</span>
                    <span>Fin</span>
                  </div>
                </div>
                <div class="heatmap-stats">
                  <h3>Estadísticas de Zonas</h3>
                  <div class="zone-stats">
                    <div class="zone-stat-item">
                      <span class="zone-name">Top Lane:</span>
                      <span class="zone-value">25% del tiempo</span>
                    </div>
                    <div class="zone-stat-item">
                      <span class="zone-name">Mid Lane:</span>
                      <span class="zone-value">30% del tiempo</span>
                    </div>
                    <div class="zone-stat-item">
                      <span class="zone-name">Bot Lane:</span>
                      <span class="zone-value">15% del tiempo</span>
                    </div>
                    <div class="zone-stat-item">
                      <span class="zone-name">Jungla:</span>
                      <span class="zone-value">20% del tiempo</span>
                    </div>
                    <div class="zone-stat-item">
                      <span class="zone-name">Río:</span>
                      <span class="zone-value">10% del tiempo</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pestaña de Clips -->
        <div id="clips-tab" class="tab-pane">
          <div id="clips-container" class="metrics-panel stats-panel">
            <h2>Mis Clips Guardados</h2>
            <div class="clips-grid">
              <!-- Los clips se añadirán dinámicamente aquí -->
              <div class="no-clips-message">
                <p>No hay clips guardados todavía.</p>
                <p>Cuando consigas una kill, se grabará automáticamente un clip.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div id="clip-notification" class="clip-notification hidden">
        <span>¡Clip guardado!</span>
      </div>
    </div>
    
    <!-- Anuncio rectangular - Lateral derecho -->
    <div id="medium-rectangle" class="ad-container right-rectangle">
      <!-- Mensaje promocional de omashu.gg en formato banner horizontal -->
      <div id="omashu-premium" class="omashu-premium-container">
        <div class="premium-content">
          <div class="premium-content-text">
            <h3>OMASHU.GG PREMIUM</h3>
            <p>Mejora tu experiencia de juego con herramientas premium</p>
            <ul class="premium-benefits">
              <li>✓ Análisis detallado</li>
              <li>✓ Estadísticas avanzadas</li>
              <li>✓ Sin anuncios</li>
            </ul>
          </div>
          <div class="premium-buttons">
            <button class="premium-subscribe">Suscribirse</button>
            <button class="premium-info">Más info</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Standard Google Universal Analytics code
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      },
        i[r].l = 1 * new Date(); a = s.createElement(o),
          m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      // Note: https protocol here
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-144253676-3', 'auto');

    // Removes failing protocol check. @see: http://stackoverflow.com/a/22152353/1958200
    ga('set', 'checkProtocolTask', function () { });
    ga('require', 'displayfeatures');
    ga('send', 'pageview', '/in_game.html');
  </script>
  
  <!-- Script para el sistema de pestañas -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabPanes = document.querySelectorAll('.tab-pane');
      
      // Función para cambiar de pestaña
      function changeTab(tabId) {
        // Desactivar todas las pestañas
        tabButtons.forEach(button => button.classList.remove('active'));
        tabPanes.forEach(pane => pane.classList.remove('active'));
        
        // Activar la pestaña seleccionada
        document.querySelector(`.tab-button[data-tab="${tabId}"]`).classList.add('active');
        document.getElementById(`${tabId}-tab`).classList.add('active');
      }
      
      // Agregar eventos a los botones de pestañas
      tabButtons.forEach(button => {
        button.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          changeTab(tabId);
        });
      });
    });
  </script>
</body>
</html>
